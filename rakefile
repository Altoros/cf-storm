require_relative "./app"
require "cutest"
require_relative "test/helper"

task :default => 'test:all'

namespace 'test' do
  desc "Run tests in test/ folder"
  task :acceptance  do
    require 'cuba/capybara'
    require_relative "test/acceptance/acceptance_helper"

    puts "Runing acceptance tests..."
    Cutest.run Dir["test/acceptance/*_test.rb"]
  end

  desc "Run model tests"
  task :unit do
    unit_files = Dir["test/models/*_test.rb"] +
                 Dir["test/helper/*_test.rb"]

    Cutest.run unit_files
  end

  desc "Run all tests acceptance + unit"
  task :all => [:unit, :acceptance]
end
